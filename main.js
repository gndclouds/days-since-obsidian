/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DATE_FORMATS = {
  "YYYY-MM-DD": /\b\d{4}-\d{2}-\d{2}\b/g,
  "DD-MM-YYYY": /\b\d{2}-\d{2}-\d{4}\b/g
  // Add other formats as needed
};
var DEFAULT_SETTINGS = {
  selectedDateFormat: "YYYY-MM-DD"
  // Default format
};
var MyPlugin = class extends import_obsidian.Plugin {
  handleHover(event) {
    const hoveredElement = event.target;
    const hoveredText = hoveredElement.textContent || "";
    const selectedRegex = DATE_FORMATS[this.settings.selectedDateFormat];
    const match = hoveredText.match(selectedRegex);
    if (match && match.length > 0) {
      const hoveredDate = new Date(match[0]);
      const today = new Date();
      const timeDifference = today.getTime() - hoveredDate.getTime();
      const daysSince = Math.floor(timeDifference / (1e3 * 3600 * 24));
      this.tooltip.textContent = `${daysSince} days since`;
      this.tooltip.style.left = `${event.clientX}px`;
      this.tooltip.style.top = `${event.clientY + 20}px`;
      this.tooltip.style.display = "block";
    }
  }
  async onload() {
    await this.loadSettings();
    console.log("Selected date format:", this.settings.selectedDateFormat);
    this.registerDomEvent(document, "mouseover", (event) => {
      this.handleHover(event);
    });
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
    this.addSettingTab(new MyPluginSettingTab(this.app, this));
    this.registerDomEvent(document, "mouseout", (event) => {
      this.tooltip.style.display = "none";
    });
    this.tooltip = document.createElement("div");
    this.tooltip.setAttribute("id", "plugin-tooltip");
    document.body.appendChild(this.tooltip);
    this.loadStyles();
  }
  loadStyles() {
    this.addStyle("path/to/your/styles.css");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  onunload() {
    this.tooltip.remove();
  }
};
var MyPluginSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Date Format").setDesc("Choose your preferred date format").addDropdown(
      (dropdown) => dropdown.addOptions({
        "YYYY-MM-DD": "YYYY-MM-DD",
        "DD-MM-YYYY": "DD-MM-YYYY"
        // Add other formats as options
      }).setValue(this.plugin.settings.selectedDateFormat).onChange(async (value) => {
        this.plugin.settings.selectedDateFormat = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcbiAgQXBwLFxuICBFZGl0b3IsXG4gIE1hcmtkb3duVmlldyxcbiAgTW9kYWwsXG4gIE5vdGljZSxcbiAgUGx1Z2luLFxuICBQbHVnaW5TZXR0aW5nVGFiLFxuICBTZXR0aW5nLFxufSBmcm9tIFwib2JzaWRpYW5cIjtcblxuLy8gUmVtZW1iZXIgdG8gcmVuYW1lIHRoZXNlIGNsYXNzZXMgYW5kIGludGVyZmFjZXMhXG5cbmludGVyZmFjZSBNeVBsdWdpblNldHRpbmdzIHtcbiAgc2VsZWN0ZWREYXRlRm9ybWF0OiBzdHJpbmc7XG59XG5jb25zdCBEQVRFX0ZPUk1BVFMgPSB7XG4gIFwiWVlZWS1NTS1ERFwiOiAvXFxiXFxkezR9LVxcZHsyfS1cXGR7Mn1cXGIvZyxcbiAgXCJERC1NTS1ZWVlZXCI6IC9cXGJcXGR7Mn0tXFxkezJ9LVxcZHs0fVxcYi9nLFxuICAvLyBBZGQgb3RoZXIgZm9ybWF0cyBhcyBuZWVkZWRcbn07XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15UGx1Z2luU2V0dGluZ3MgPSB7XG4gIHNlbGVjdGVkRGF0ZUZvcm1hdDogXCJZWVlZLU1NLUREXCIsIC8vIERlZmF1bHQgZm9ybWF0XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHByaXZhdGUgaGFuZGxlSG92ZXIoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBob3ZlcmVkRWxlbWVudCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBob3ZlcmVkVGV4dCA9IGhvdmVyZWRFbGVtZW50LnRleHRDb250ZW50IHx8IFwiXCI7XG4gICAgY29uc3Qgc2VsZWN0ZWRSZWdleCA9IERBVEVfRk9STUFUU1t0aGlzLnNldHRpbmdzLnNlbGVjdGVkRGF0ZUZvcm1hdF07XG5cbiAgICAvLyBVc2UgbWF0Y2ggdG8gZmluZCB0aGUgZGF0ZSBpbiB0aGUgdGV4dFxuICAgIGNvbnN0IG1hdGNoID0gaG92ZXJlZFRleHQubWF0Y2goc2VsZWN0ZWRSZWdleCk7XG4gICAgaWYgKG1hdGNoICYmIG1hdGNoLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFVzZSB0aGUgZmlyc3QgbWF0Y2hlZCBkYXRlXG4gICAgICBjb25zdCBob3ZlcmVkRGF0ZSA9IG5ldyBEYXRlKG1hdGNoWzBdKTtcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHRpbWVEaWZmZXJlbmNlID0gdG9kYXkuZ2V0VGltZSgpIC0gaG92ZXJlZERhdGUuZ2V0VGltZSgpO1xuICAgICAgY29uc3QgZGF5c1NpbmNlID0gTWF0aC5mbG9vcih0aW1lRGlmZmVyZW5jZSAvICgxMDAwICogMzYwMCAqIDI0KSk7XG5cbiAgICAgIC8vIERpc3BsYXkgdGhlIHJlc3VsdCBpbiB0aGUgdG9vbHRpcFxuICAgICAgdGhpcy50b29sdGlwLnRleHRDb250ZW50ID0gYCR7ZGF5c1NpbmNlfSBkYXlzIHNpbmNlYDtcbiAgICAgIHRoaXMudG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7ZXZlbnQuY2xpZW50WH1weGA7XG4gICAgICB0aGlzLnRvb2x0aXAuc3R5bGUudG9wID0gYCR7ZXZlbnQuY2xpZW50WSArIDIwfXB4YDsgLy8gMjAgcGl4ZWxzIGJlbG93IHRoZSBjdXJzb3JcbiAgICAgIHRoaXMudG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgIGNvbnNvbGUubG9nKFwiU2VsZWN0ZWQgZGF0ZSBmb3JtYXQ6XCIsIHRoaXMuc2V0dGluZ3Muc2VsZWN0ZWREYXRlRm9ybWF0KTtcbiAgICB0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVIb3ZlcihldmVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBNeVBsdWdpblNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgXCJtb3VzZW91dFwiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIHRoaXMudG9vbHRpcC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfSk7XG5cbiAgICB0aGlzLnRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMudG9vbHRpcC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInBsdWdpbi10b29sdGlwXCIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwKTtcblxuICAgIHRoaXMubG9hZFN0eWxlcygpO1xuICB9XG4gIGxvYWRTdHlsZXMoKSB7XG4gICAgdGhpcy5hZGRTdHlsZShcInBhdGgvdG8veW91ci9zdHlsZXMuY3NzXCIpO1xuICB9XG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICB9XG5cbiAgb251bmxvYWQoKSB7XG4gICAgdGhpcy50b29sdGlwLnJlbW92ZSgpO1xuICB9XG59XG5cbmNsYXNzIFNhbXBsZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHN1cGVyKGFwcCk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLnNldFRleHQoXCJXb2FoIVwiKTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cblxuY2xhc3MgTXlQbHVnaW5TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogTXlQbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTXlQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCkge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShcIkRhdGUgRm9ybWF0XCIpXG4gICAgICAuc2V0RGVzYyhcIkNob29zZSB5b3VyIHByZWZlcnJlZCBkYXRlIGZvcm1hdFwiKVxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cbiAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAuYWRkT3B0aW9ucyh7XG4gICAgICAgICAgICBcIllZWVktTU0tRERcIjogXCJZWVlZLU1NLUREXCIsXG4gICAgICAgICAgICBcIkRELU1NLVlZWVlcIjogXCJERC1NTS1ZWVlZXCIsXG4gICAgICAgICAgICAvLyBBZGQgb3RoZXIgZm9ybWF0cyBhcyBvcHRpb25zXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VsZWN0ZWREYXRlRm9ybWF0KVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNlbGVjdGVkRGF0ZUZvcm1hdCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG4gIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFTTztBQU9QLElBQU0sZUFBZTtBQUFBLEVBQ25CLGNBQWM7QUFBQSxFQUNkLGNBQWM7QUFBQTtBQUVoQjtBQUVBLElBQU0sbUJBQXFDO0FBQUEsRUFDekMsb0JBQW9CO0FBQUE7QUFDdEI7QUFFQSxJQUFxQixXQUFyQixjQUFzQyx1QkFBTztBQUFBLEVBQ25DLFlBQVksT0FBeUI7QUFDM0MsVUFBTSxpQkFBaUIsTUFBTTtBQUM3QixVQUFNLGNBQWMsZUFBZSxlQUFlO0FBQ2xELFVBQU0sZ0JBQWdCLGFBQWEsS0FBSyxTQUFTLGtCQUFrQjtBQUduRSxVQUFNLFFBQVEsWUFBWSxNQUFNLGFBQWE7QUFDN0MsUUFBSSxTQUFTLE1BQU0sU0FBUyxHQUFHO0FBRTdCLFlBQU0sY0FBYyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUM7QUFDckMsWUFBTSxRQUFRLElBQUksS0FBSztBQUN2QixZQUFNLGlCQUFpQixNQUFNLFFBQVEsSUFBSSxZQUFZLFFBQVE7QUFDN0QsWUFBTSxZQUFZLEtBQUssTUFBTSxrQkFBa0IsTUFBTyxPQUFPLEdBQUc7QUFHaEUsV0FBSyxRQUFRLGNBQWMsR0FBRztBQUM5QixXQUFLLFFBQVEsTUFBTSxPQUFPLEdBQUcsTUFBTTtBQUNuQyxXQUFLLFFBQVEsTUFBTSxNQUFNLEdBQUcsTUFBTSxVQUFVO0FBQzVDLFdBQUssUUFBUSxNQUFNLFVBQVU7QUFBQSxJQUMvQjtBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sU0FBUztBQUNiLFVBQU0sS0FBSyxhQUFhO0FBQ3hCLFlBQVEsSUFBSSx5QkFBeUIsS0FBSyxTQUFTLGtCQUFrQjtBQUNyRSxTQUFLLGlCQUFpQixVQUFVLGFBQWEsQ0FBQyxVQUFzQjtBQUNsRSxXQUFLLFlBQVksS0FBSztBQUFBLElBQ3hCLENBQUM7QUFDRCxTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUN6RSxTQUFLLGNBQWMsSUFBSSxtQkFBbUIsS0FBSyxLQUFLLElBQUksQ0FBQztBQUV6RCxTQUFLLGlCQUFpQixVQUFVLFlBQVksQ0FBQyxVQUFzQjtBQUNqRSxXQUFLLFFBQVEsTUFBTSxVQUFVO0FBQUEsSUFDL0IsQ0FBQztBQUVELFNBQUssVUFBVSxTQUFTLGNBQWMsS0FBSztBQUMzQyxTQUFLLFFBQVEsYUFBYSxNQUFNLGdCQUFnQjtBQUNoRCxhQUFTLEtBQUssWUFBWSxLQUFLLE9BQU87QUFFdEMsU0FBSyxXQUFXO0FBQUEsRUFDbEI7QUFBQSxFQUNBLGFBQWE7QUFDWCxTQUFLLFNBQVMseUJBQXlCO0FBQUEsRUFDekM7QUFBQSxFQUNBLE1BQU0sZUFBZTtBQUNuQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzNFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDbkIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbkM7QUFBQSxFQUVBLFdBQVc7QUFDVCxTQUFLLFFBQVEsT0FBTztBQUFBLEVBQ3RCO0FBQ0Y7QUFrQkEsSUFBTSxxQkFBTixjQUFpQyxpQ0FBaUI7QUFBQSxFQUdoRCxZQUFZLEtBQVUsUUFBa0I7QUFDdEMsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDaEI7QUFBQSxFQUVBLFVBQVU7QUFDUixVQUFNLEVBQUUsWUFBWSxJQUFJO0FBRXhCLGdCQUFZLE1BQU07QUFFbEIsUUFBSSx3QkFBUSxXQUFXLEVBQ3BCLFFBQVEsYUFBYSxFQUNyQixRQUFRLG1DQUFtQyxFQUMzQztBQUFBLE1BQVksQ0FBQyxhQUNaLFNBQ0csV0FBVztBQUFBLFFBQ1YsY0FBYztBQUFBLFFBQ2QsY0FBYztBQUFBO0FBQUEsTUFFaEIsQ0FBQyxFQUNBLFNBQVMsS0FBSyxPQUFPLFNBQVMsa0JBQWtCLEVBQ2hELFNBQVMsT0FBTyxVQUFVO0FBQ3pCLGFBQUssT0FBTyxTQUFTLHFCQUFxQjtBQUMxQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDakMsQ0FBQztBQUFBLElBQ0w7QUFBQSxFQUNKO0FBQ0Y7IiwKICAibmFtZXMiOiBbXQp9Cg==
